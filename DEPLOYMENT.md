# Инструкция по деплою на Vercel

## Подготовка к деплою

### 1. Настройка репозитория
Репозиторий уже настроен и загружен на GitHub: https://github.com/mirikssss/smartweather.git

### 2. Получение API ключа Gemini
1. Перейдите на https://makersuite.google.com/app/apikey
2. Создайте новый API ключ
3. Скопируйте ключ для использования в Vercel

## Деплой на Vercel

### Шаг 1: Подключение репозитория
1. Войдите в [Vercel Dashboard](https://vercel.com/dashboard)
2. Нажмите "New Project"
3. Выберите "Import Git Repository"
4. Найдите репозиторий `mirikssss/smartweather`
5. Нажмите "Import"

### Шаг 2: Настройка переменных окружения
1. В настройках проекта перейдите в "Environment Variables"
2. Добавьте переменную:
   - **Name**: `VITE_GEMINI_API_KEY`
   - **Value**: ваш API ключ Gemini (например: AIzaSyB...)
   - **Environment**: Production, Preview, Development
3. **ВАЖНО**: Не используйте символ @ в значении переменной

### Шаг 3: Настройка сборки
Vercel автоматически определит настройки сборки:
- **Framework Preset**: Vite
- **Build Command**: `npm run build`
- **Output Directory**: `dist`
- **Install Command**: `npm install`

### Шаг 4: Деплой
1. Нажмите "Deploy"
2. Дождитесь завершения сборки
3. Получите URL вашего приложения

## Автоматический деплой

После настройки каждый push в ветку `main` будет автоматически запускать новый деплой.

## Проверка деплоя

После успешного деплоя проверьте:
1. Главная страница загружается
2. Карта отображается корректно
3. Поиск городов работает
4. AI анализ генерируется (требует API ключ)

## Возможные проблемы

### Ошибка сборки
- Проверьте, что все зависимости установлены
- Убедитесь, что переменные окружения настроены

### Ошибки API
- Проверьте правильность API ключа Gemini
- Убедитесь, что ключ активен и имеет необходимые разрешения

### Проблемы с картой
- Проверьте, что Leaflet CSS и JS загружаются
- Убедитесь, что OpenStreetMap доступен

## Мониторинг

Vercel предоставляет:
- Логи сборки и выполнения
- Метрики производительности
- Анализ ошибок
- Статистику использования

## Обновление приложения

Для обновления приложения:
1. Внесите изменения в код
2. Сделайте commit и push в ветку `main`
3. Vercel автоматически запустит новый деплой

## Резервное копирование

Рекомендуется:
- Регулярно делать бэкапы кода на GitHub
- Сохранять настройки переменных окружения
- Документировать изменения в README
