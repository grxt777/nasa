# NASA SmartWeather

Интеллектуальная система анализа погодных данных на основе 25-летних наблюдений NASA с использованием искусственного интеллекта.

## Описание проекта

NASA SmartWeather - это веб-приложение для анализа исторических погодных данных и прогнозирования погодных условий для различных городов мира. Система использует данные NASA за период с 1999 по 2024 год и предоставляет детальный анализ с помощью AI-ассистента.

## Основные функции

### 1. Интерактивная карта
- Отображение выбранного города на карте мира
- Возможность выбора города кликом по карте
- Визуальные погодные эффекты на карте
- Маркеры для точного позиционирования

### 2. Поиск и выбор города
- Поиск городов по названию и стране
- Динамический поиск файлов данных NASA
- Выбор города с карты с помощью метки
- Поддержка более 50 городов по всему миру

### 3. Погодные карточки
Система отображает 6 основных метрик:

**Температура максимальная**
- Средняя максимальная температура за выбранный период
- Расчет на основе данных T2M_MAX из NASA
- Отображение в градусах Цельсия

**Температура минимальная**
- Средняя минимальная температура за выбранный период
- Расчет на основе данных T2M_MIN из NASA
- Показывает самые холодные дни

**Влажность**
- Средняя относительная влажность воздуха
- Расчет на основе данных RH2M из NASA
- Отображается в процентах

**Осадки**
- Среднее количество осадков за период
- Расчет на основе данных PRECTOTCORR из NASA
- Отображается в миллиметрах

**Скорость ветра**
- Средняя скорость ветра за период
- Расчет на основе данных WS2M из NASA
- Отображается в метрах в секунду

**УФ-индекс**
- Средний уровень ультрафиолетового излучения
- Расчет на основе данных ALLSKY_SFC_SW_DWN из NASA
- Показывает уровень солнечной активности

### 4. AI Анализ погоды
- Детальный анализ погодных условий для выбранной даты
- Рекомендации по планированию мероприятий
- Анализ подходящих условий для различных активностей
- Генерация текстового отчета с помощью Gemini AI

### 5. Оценка пригодности
- Оценка погодных условий для конкретного события
- Рейтинг от 1 до 10 с комментариями
- Анализ рисков и рекомендации
- Учет сезонных особенностей региона

### 6. Климатическая история
Комплексный анализ климатических данных за 25 лет:

**График температурных трендов**
- Изменение средней температуры по годам
- Линейная регрессия для выявления трендов
- Статистический анализ изменений

**График осадков**
- Динамика осадков по годам
- Выявление засушливых и дождливых периодов
- Сезонные колебания

**Сезонный сдвиг**
- Анализ изменения дат наступления теплых дней
- Отслеживание климатических изменений
- Визуализация сдвига сезонов

**Экстремальные события**
- Количество жарких дней (>35°C) по годам
- Анализ экстремальных погодных явлений
- Статистика аномальных температур

### 7. Экспорт данных
- Скачивание данных в формате CSV
- Экспорт в JSON для программного использования
- Генерация PDF отчетов
- Сохранение графиков и диаграмм

## Технические детали

### Источники данных
- NASA POWER (Prediction of Worldwide Energy Resources)
- Период наблюдений: 1999-2024 (25 лет)
- Разрешение: ежедневные данные
- Покрытие: глобальное

### Метрики NASA
- T2M_MAX: Максимальная температура воздуха на высоте 2м
- T2M_MIN: Минимальная температура воздуха на высоте 2м
- RH2M: Относительная влажность на высоте 2м
- PRECTOTCORR: Корректированные осадки
- WS2M: Скорость ветра на высоте 2м
- ALLSKY_SFC_SW_DWN: Поверхностное коротковолновое излучение
- YEAR: Год наблюдения
- MO: Месяц наблюдения
- DY: День месяца
- DOY: День года

### Алгоритмы расчета

**Средние значения**
Для каждой метрики рассчитывается среднее арифметическое за выбранный период ±5 дней от целевой даты для всех лет наблюдений.

**Вероятности**
Система рассчитывает вероятность различных погодных условий на основе исторических данных за аналогичные периоды.

**Тренды**
Используется линейная регрессия для выявления долгосрочных трендов в климатических данных.

**Сезонный анализ**
Определение первого теплого дня (>20°C) в году и анализ его изменений во времени.

### Искусственный интеллект
- Использование Gemini AI для анализа данных
- Генерация текстовых отчетов на русском языке
- Контекстный анализ погодных условий
- Персонализированные рекомендации

## Технологический стек

- **Frontend**: React 18, Vite
- **Карты**: Leaflet, OpenStreetMap
- **Графики**: Chart.js, Recharts
- **AI**: Google Gemini API
- **Стили**: Tailwind CSS
- **Иконки**: Lucide React
- **Парсинг**: Papa Parse (CSV)

## Установка и запуск

### Требования
- Node.js 18+
- npm или yarn
- API ключ Gemini

### Установка
```bash
git clone https://github.com/mirikssss/smartweather.git
cd smartweather
npm install
```

### Настройка
1. Создайте файл `.env.local`:
```
VITE_GEMINI_API_KEY=your_gemini_api_key_here
```

2. Запустите приложение:
```bash
npm run dev
```

### Сборка для продакшена
```bash
npm run build
```

## Структура проекта

```
src/
├── components/          # React компоненты
│   ├── ClimateHistoryDashboard.jsx
│   ├── LeafletMap.jsx
│   ├── Sidebar.jsx
│   ├── WeatherCards.jsx
│   └── ...
├── services/           # Сервисы для работы с API
│   ├── nasaDataService.js
│   └── geminiService.js
├── data/              # Статические данные
│   └── cities.js
├── utils/             # Утилиты
│   └── advancedWeatherEffects.js
└── hooks/             # React хуки
    └── useWeatherData.js
```

## Деплой на Vercel

1. Подключите репозиторий к Vercel
2. Настройте переменные окружения:
   - `VITE_GEMINI_API_KEY`: ваш API ключ Gemini
3. Деплой произойдет автоматически при push в main ветку

## API и интеграции

### NASA POWER API
Система использует предварительно загруженные данные NASA в формате CSV для обеспечения быстрой работы и стабильности.

### Gemini AI API
Интеграция с Google Gemini для генерации текстовых анализов и рекомендаций.

## Производительность

- Ленивая загрузка компонентов
- Кэширование данных NASA
- Оптимизированная анимация графиков
- Адаптивный дизайн для мобильных устройств

## Браузерная поддержка

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## Лицензия

MIT License

## Контакты

Проект разработан для демонстрации возможностей анализа климатических данных с использованием современных веб-технологий и искусственного интеллекта.